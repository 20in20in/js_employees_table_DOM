{"mappings":"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","sources":["src/scripts/main.js"],"sourcesContent":["'use strict';\n\n\nconst theads = document.querySelectorAll('th');\nconst tbody = document.querySelector('table tbody');\nconst trArr = [...tbody.querySelectorAll('tr')];\n\nlet sortOrder = 1;\nlet lastColumnIndex = -1;\n\nfunction sortColumns(index) {\n  if (lastColumnIndex !== index) {\n    sortOrder = 1;\n  } else {\n    sortOrder *= -1;\n  }\n\n  trArr.sort((a, b) => {\n    const trA = a.cells[index].textContent;\n    const trB = b.cells[index].textContent;\n\n    if (!isNaN(trA) && !isNaN(trB)) {\n      return sortOrder * (parseFloat(trA) - parseFloat(trB));\n    } else {\n      return sortOrder * trA.localeCompare(trB, 'en', { numeric: true });\n    }\n  });\n\n  tbody.innerHTML = '';\n  trArr.forEach((tr) => tbody.append(tr));\n\n  lastColumnIndex = index;\n}\n\ntheads.forEach((thead, index) => {\n  thead.addEventListener('click', () => {\n    sortColumns(index);\n  });\n});\n\ntbody.addEventListener('click', (e) => {\n  const trRows = document.querySelectorAll('tbody tr');\n\n  trRows.forEach((trRow) => {\n    trRow.classList.remove('active');\n  });\n\n  const clickRow = e.target.closest('tr');\n\n  if (clickRow) {\n    clickRow.classList.add('active');\n  }\n});\n\n//* add a form to the document.\n//* Form allows users to add new employees to the spreadsheet.\nconst form = document.createElement('form');\n\nform.className = 'new-employee-form';\ndocument.body.append(form);\n\nconst fealds = [\n  {\n    label: 'Name',\n    name: 'name',\n    type: 'text',\n    qa: 'name',\n  },\n  {\n    label: 'Position',\n    name: 'position',\n    type: 'text',\n    qa: 'position',\n  },\n  {\n    label: 'Office',\n    name: ' office',\n    type: 'select',\n    qa: 'office',\n    options: [\n      'Select an office',\n      'Tokyo',\n      'Singapore',\n      'London',\n      'New York',\n      'Edinburgh',\n      'San Francisco',\n    ],\n  },\n  {\n    label: 'Age',\n    name: 'age',\n    type: 'number',\n    qa: 'age',\n  },\n  {\n    label: 'Salary',\n    name: 'salary',\n    type: 'number',\n    qa: 'salary',\n  },\n];\n\nfealds.forEach((feald) => {\n  const label = document.createElement('label');\n\n  label.textContent = feald.label + ': ';\n\n  let input = document.createElement('input');\n\n  if (feald.type === 'select') {\n    input = document.createElement('select');\n\n    feald.options.forEach((option) => {\n      const optionElement = document.createElement('option');\n\n      optionElement.value = option;\n      optionElement.textContent = option;\n      input.appendChild(optionElement);\n    });\n  } else {\n    input = document.createElement('input');\n    input.type = feald.type;\n  }\n\n  input.name = feald.name;\n  input.setAttribute('data-qa', feald.qa);\n  label.appendChild(input);\n  form.appendChild(label);\n});\n\nconst submitButton = document.createElement('button');\n\nsubmitButton.type = 'submit';\nsubmitButton.textContent = 'Save to table';\nform.append(submitButton);\n\n//* Show notification if form data is invalid.\nform.addEventListener('submit', (e) => {\n  e.preventDefault();\n\n  const formData = new FormData(form);\n  const newRow = document.createElement('tr');\n  let valid = true;\n\n  formData.forEach((value, key) => {\n    const td = document.createElement('td');\n\n    if (key === 'salary') {\n      const normalisedSalary = parseFloat(value).toLocaleString('en-US', {\n        style: 'currency',\n        currency: 'USD',\n        minimumFractionDigits: 0,\n        maximumFractionDigits: 0,\n      });\n\n      td.textContent = normalisedSalary;\n    } else {\n      td.textContent = value;\n    }\n\n    newRow.append(td);\n\n    if (!checkDataValidity(key, value)) {\n      valid = false;\n    }\n  });\n\n  if (valid) {\n    tbody.append(newRow);\n    trArr.push(newRow);\n    showNotification('New employee added successfully', 'success');\n    form.reset();\n  } else {\n    showNotification('Invalid data!', 'error');\n  }\n});\n\nfunction checkDataValidity(id, value) {\n  if (id === 'name') {\n    return value.trim().length >= 4;\n  }\n\n  if (id === 'age') {\n    return value >= 18 && value <= 90;\n  }\n\n  if (id === 'salary') {\n    return value > 0;\n  }\n\n  return !!value.trim();\n}\n\nconst notificationContainer = document.createElement('div');\n\nnotificationContainer.id = 'notification-container';\ndocument.body.appendChild(notificationContainer);\n\nfunction showNotification(message, type) {\n  const notification = document.createElement('div');\n\n  notification.className = `notification ${type}`;\n  notification.setAttribute('data-qa', 'notification');\n  notification.textContent = message;\n  notificationContainer.innerHTML = '';\n  notificationContainer.appendChild(notification);\n  setTimeout(() => notification.remove(), 5000);\n}\n\n//* Implement editing of table cells by double-clicking on it (optional) */\ntbody.addEventListener('dblclick', (e) => {\n  const cell = e.target;\n  const initialValue = cell.textContent;\n\n  if (cell.tagName.toLowerCase() === 'td') {\n    const input = document.createElement('input');\n\n    input.className = 'cell-input';\n    input.value = initialValue;\n    cell.textContent = '';\n    cell.appendChild(input);\n    input.focus();\n\n    input.addEventListener('blur', () => {\n      const newValue = input.value.trim();\n\n      cell.textContent = newValue || initialValue;\n    });\n\n    input.addEventListener('keypress', (ev) => {\n      if (ev.key === 'Enter') {\n        const newValue = input.value.trim();\n\n        cell.textContent = newValue || initialValue;\n      }\n    });\n  }\n});\n"],"names":[],"version":3,"file":"index.f75de5e1.js.map","sourceRoot":"/__parcel_source_root/"}